# Module -2 Assignment

## 1. Brief about SplitMAC architecture and how it improves the AP's performance
SplitMAC architecture is a design approach used in enterprise wireless networks that divides the MAC layer functionalities between the Access Point (AP) and the Wireless LAN Controller (WLC). In this architecture, time-sensitive and real-time functions such as frame acknowledgment, retransmission, and clear channel assessment are handled locally at the AP, while complex management and control functions like authentication, association, roaming, and Quality of Service (QoS) enforcement are centralized and performed by the controller. This division significantly improves the APâ€™s performance by reducing its processing burden, allowing it to focus on efficient data transmission and reception. At the same time, it enables centralized policy enforcement, better scalability, and simplified network management, which are critical in large-scale wireless deployments.


## 2. Describe about CAPWAP , explain the flow between AP and Controller
CAPWAP (Control and Provisioning of Wireless Access Points) is a protocol that facilitates communication between lightweight APs and a central controller. It separates the control and data planes, using a secure DTLS-encrypted control channel for management messages and a separate data channel for user traffic. The communication process begins when the AP boots up, obtains an IP address, and discovers the controller through methods like DHCP, DNS, or broadcast. The AP then initiates a join process with the controller, which includes discovery, selection, and the establishment of a secure tunnel. Once joined, the controller downloads the required configuration to the AP and, if necessary, upgrades its firmware. After setup, all client data and management operations flow through the CAPWAP tunnel, allowing the controller to centrally manage authentication, mobility, security, and policy enforcement. This centralized model enhances network visibility, security, and administrative efficiency.
## 3. Where this CAPWAP fits in OSI model , what are the two tunnels in CAPWAP and its purpose 
CAPWAP fits primarily at Layer 3 (Network) and Layer 4 (Transport) of the OSI model. It uses UDP as the transport protocol, typically operating over ports 5246 for control messages and 5247 for data traffic. Within CAPWAP, there are two distinct tunnels established between the Access Point and the Wireless LAN Controller: the control tunnel and the data tunnel. The control tunnel is encrypted using DTLS (Datagram Transport Layer Security) and is used for exchanging configuration, management, and keepalive messages. The data tunnel, which may or may not be encrypted, is responsible for carrying user data packets (i.e., wireless client traffic) between the AP and controller. This separation allows centralized management and policy enforcement while maintaining secure and efficient data transmission.
## 4. Whats the difference between Lightweight APs and Cloud-based APs.

Lightweight Access Points (APs) are part of a traditional controller-based WLAN architecture, where most of the control and management functions are offloaded to a centralized on-premises Wireless LAN Controller (WLC). These APs depend on the controller for configuration, policy enforcement, and even client authentication. In contrast, Cloud-based APs are managed via a cloud controller platform hosted on the internet, removing the need for a physical on-site controller. All configurations, monitoring, and policy updates are pushed from the cloud dashboard. While lightweight APs are better suited for high-security, on-premise environments with centralized control, cloud-based APs offer greater scalability, simplified remote management, and ease of deployment, especially for distributed or multi-site organizations.
## 5. How the CAPWAP tunnel is maintained between AP and controller 

Once a CAPWAP tunnel is established between an AP and a WLC, it is maintained through a series of keepalive messages and control traffic exchanges over the secure DTLS control tunnel. These keepalives are sent periodically to ensure the tunnel remains active and to detect any loss of connectivity. If the AP or controller fails to respond within a defined timeout period, the session is considered down, prompting the AP to reinitiate the discovery and join process. Additionally, the control tunnel allows the WLC to push real-time configuration updates, firmware changes, and policy adjustments to the AP. The tunnel is re-established automatically in the event of failover, reboot, or network interruption, ensuring persistent communication and management.
## 6.Whats the difference between Sniffer and monitor mode , use case for each mode
In wireless networking, sniffer mode and monitor mode are special operational states of an Access Point used for diagnostics and troubleshooting. Sniffer mode enables an AP to capture and forward all raw 802.11 wireless frames (including control, management, and data frames) to a remote analyzer tool, such as Wireshark. This is useful for deep packet analysis, protocol debugging, and capturing security events like handshake failures. Monitor mode, on the other hand, allows the AP to passively scan the RF environment without forwarding packets to the controller. It is used to detect rogue APs, monitor channel utilization, detect interference, and gather RF statistics for spectrum analysis. While sniffer mode is ideal for detailed packet-level troubleshooting, monitor mode serves broader wireless health monitoring and security scanning purposes.
## 7.If WLC deployed in WAN, which AP mode is best for local network and how?
When a Wireless LAN Controller (WLC) is deployed across a WAN link, the best mode for Access Points in the local network is FlexConnect mode (formerly known as H-REAP). In this mode, the AP can operate both connected to and disconnected from the WLC. When connected, the AP communicates with the WLC over the CAPWAP tunnel for control and policy updates. However, if the WAN link fails or the WLC becomes unreachable, the AP in FlexConnect mode can switch to standalone operation, allowing it to continue serving wireless clients by locally switching their data traffic to the wired LAN and performing local authentication if configured. This reduces WAN dependency, improves network resilience, and ensures uninterrupted wireless connectivity even during WAN outages.

##  8. What are challenges if deploying autonomous APs (more than 50) in large network like university 
Deploying more than 50 autonomous (standalone) APs in a large-scale environment like a university introduces significant operational and management challenges. Each AP requires individual configuration, firmware updates, and security policies, leading to administrative overhead and potential inconsistencies. There is no centralized control, making it difficult to coordinate channel planning, power settings, and roaming behavior, which can result in RF interference, coverage gaps, and poor client experience. Troubleshooting becomes complex, as logs and performance metrics are scattered across devices. Additionally, implementing consistent security policies like 802.1X authentication or VLAN segregation is difficult without a unified control plane. Overall, autonomous AP deployments in such environments are inefficient and unscalable compared to controller-based or cloud-managed solutions.
## 9. What happens on wireless client connected to Lightweight AP in local mode if WLC goes down.
If a WLC goes down and an Access Point in local mode (the default mode for lightweight APs) loses connectivity with it, the AP enters a "standby" state and stops serving wireless clients. This means new client associations, authentications, and roaming will fail. Existing clients that are already connected may experience temporary connectivity, but their traffic typically passes through the WLC, so without a functioning controller, even ongoing sessions will be disrupted or dropped. Since local mode APs do not switch data traffic locally, they rely heavily on the WLC to function. In such scenarios, using FlexConnect mode is preferred for high-availability environments to allow local switching and minimize client impact during controller outages.



